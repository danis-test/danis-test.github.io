(this.webpackJsonpgivc=this.webpackJsonpgivc||[]).push([[0],{27:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),s=c.n(n),r=c(19),i=c.n(r),d=(c(27),c(2)),u=c(7),o=c(17),l=c(20),m=c.n(l),p=function(e){var t=e.updateStateStudents,c=void 0===t?function(){}:t,s=e.updateStateGroup,r=void 0===s?function(){}:s,i=Object(n.useState)(!1),d=Object(u.a)(i,2),l=d[0],p=d[1],j=Object(n.useState)(!1),b=Object(u.a)(j,2),O=b[0],h=b[1],_=Object(n.useRef)(),g=Object(n.useRef)(),f=Object(n.useRef)();Object(n.useEffect)((function(){return document.querySelector(".group-list")&&document.querySelector(".header__item--group-list").classList.add("header__item--active"),document.querySelector(".students-list")&&document.querySelector(".header__item--students-list").classList.add("header__item--active"),document.querySelector(".button-add-item").addEventListener("click",S),document.body.addEventListener("click",x),v}),[]),Object(n.useEffect)((function(){document.querySelector(".header__item--active").classList.contains("header__item--students-list")&&h(!0)}));var v=function(){document.querySelector(".button-add-item").removeEventListener("click",S),document.body.removeEventListener("click",x)},S=function(){p(!l)},x=function(e){var t=e.path||e.composedPath&&e.composedPath();t.includes(_.current)||t.includes(document.querySelector(".button-add-item"))||p(!1)};return Object(a.jsxs)("form",{ref:_,className:m()("popup-addItem",{"popup-addItem--active":l}),children:[O&&Object(a.jsx)("input",{ref:g,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",className:"popup-addItem__input"}),Object(a.jsx)("input",{ref:f,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b",className:"popup-addItem__input"}),Object(a.jsxs)("div",{className:"popup-addItem__button-wrapper",children:[Object(a.jsx)("button",{className:"popup-addItem__button popup-addItem__button--ok",onClick:function(e){e.preventDefault();var t,a,n=g.current?g.current.value:null,s=f.current.value;if(!n&&null!==n||!s)return alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435");var i=JSON.parse(localStorage.getItem("groups"));if(null!==i&&i.length?(i.forEach((function(e){e.name===s&&(t=e.id)})),void 0===t&&(t=i[i.length-1].id+1,i=[].concat(Object(o.a)(i),[{id:t,name:s}]))):i=[{id:t=0,name:s}],localStorage.setItem("groups",JSON.stringify(i)),null!==n){var d=JSON.parse(localStorage.getItem("students"));null!=d&&d.length?(a=d[d.length-1].id+1,d=[].concat(Object(o.a)(d),[{id:a,name:n,id_group:t}])):d=[{id:0,name:n,id_group:t}],localStorage.setItem("students",JSON.stringify(d))}c(),r(),S(),g.current&&(g.current.value=""),f.current.value=""},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(a.jsx)("div",{className:"popup-addItem__button popup-addItem__button--cancel",onClick:S,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})},j=function(e){var t=e.deleteItem,c=Object(n.useState)(JSON.parse(localStorage.getItem("groups"))),s=Object(u.a)(c,2),r=s[0],i=s[1];r||(r=[]);var d=function(){i(JSON.parse(localStorage.getItem("groups")))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p,{updateStateGroup:d}),Object(a.jsx)("ul",{className:"group-list",children:r.map((function(e){return Object(a.jsxs)("li",{className:"group-item item","data-id":e.id,children:[Object(a.jsx)("span",{className:"item__name",children:e.name}),Object(a.jsx)("span",{className:"item__delete",onClick:function(){t("groups",e.id),d()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},e.id)}))})]})},b=function(e){var t=e.deleteItem,c=Object(n.useState)(JSON.parse(localStorage.getItem("students"))),s=Object(u.a)(c,2),r=s[0],i=s[1],d=Object(n.useState)(JSON.parse(localStorage.getItem("groups"))),o=Object(u.a)(d,2),l=o[0],m=o[1],j=function(){i(JSON.parse(localStorage.getItem("students"))),m(JSON.parse(localStorage.getItem("groups")))};r||(r=[]),l||(l=[]);var b=r.map((function(e){var t=l.filter((function(t){return e.id_group===t.id})),c=t.length&&t[0].name||"\u0411\u0435\u0437 \u0433\u0440\u0443\u043f\u043f\u044b";return{id:e.id,name:"".concat(e.name," - ").concat(c)}}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p,{updateStateStudents:j}),Object(a.jsx)("ul",{className:"students-list",children:b.map((function(e){return Object(a.jsxs)("li",{className:"students-item item","data-id":e.id,children:[Object(a.jsx)("span",{className:"item__name",children:e.name}),Object(a.jsx)("span",{className:"item__delete",onClick:function(){t("students",e.id),j()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},e+Math.random())}))})]})},O=c(9),h=function(){return Object(a.jsxs)("header",{className:"header",onClick:function(e){e.target.classList.contains("header__item")&&!e.target.classList.contains("header__item--active")&&(document.querySelectorAll(".header__item").forEach((function(e){e.classList.remove("header__item--active")})),e.target.classList.add("header__item--active"))},children:[Object(a.jsx)(O.b,{className:"header__item header__item--group-list",to:"/",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f"}),Object(a.jsx)(O.b,{className:"header__item header__item--students-list",to:"/students-list",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432"})]})},_=function(){return Object(a.jsx)("div",{className:"button-add-item",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})};var g=function(){var e=function(e,t){var c=JSON.parse(localStorage.getItem(e)).filter((function(e){return e.id!==t}));localStorage.setItem(e,JSON.stringify(c))};return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(h,{}),Object(a.jsx)(_,{}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)(d.a,{path:"/",exact:!0,children:Object(a.jsx)(j,{deleteItem:e})}),Object(a.jsx)(d.a,{path:"/students-list",exact:!0,children:Object(a.jsx)(b,{deleteItem:e})})]})]})})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(O.a,{children:Object(a.jsx)(g,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.83921dd3.chunk.js.map